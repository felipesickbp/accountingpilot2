/* =========================================================
   styles.css — DESIGN ONLY (SAFE)
   Streamlit app: Accounting Copilot / Burkhart & Partners
   Goals:
   - Improve readability (esp. important buttons)
   - Softer “product UI” look
   - Keep app functionality untouched
   - Do NOT interfere with injected login system (.lp-* / .btn) in app.py
   ========================================================= */

/* -----------------------------
   Font
------------------------------ */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap");

/* -----------------------------
   Brand tokens
------------------------------ */
:root{
  /* Base surfaces */
  --bg: #ffffff;
  --bg-soft: #F7F6FF;              /* soft lilac-tinted canvas */
  --bg-soft-2: #F4F8FF;            /* very light blue tint */
  --card: #FFFFFF;
  --card-soft: rgba(255,255,255,0.86);

  /* Borders & text */
  --border: rgba(15, 29, 43, 0.10);
  --border-strong: rgba(15, 29, 43, 0.18);
  --text: #0F1D2B;
  --muted: rgba(15, 29, 43, 0.74);

  /* Accents (navy) */
  --accent-a: #0B1F3A;          /* navy */
  --accent-b: #0B1F3A;          /* navy (same = no gradient look) */
  --accent-b-hover: #08162A;    /* darker navy on hover */

  /* Buttons */
  --primary: var(--accent-b);
  --primary-hover: var(--accent-b-hover);
  --primary-ink: #FFFFFF;

  --outline: rgba(15, 29, 43, 0.18);
  --ring: rgba(139, 92, 246, 0.18);
  --ring-strong: rgba(37, 99, 235, 0.22);

  /* Radii & shadows */
  --radius-card: 18px;
  --radius: 12px;
  --radius-pill: 999px;

  --shadow: 0 14px 48px rgba(15, 29, 43, 0.10);
  --shadow-soft: 0 10px 26px rgba(15, 29, 43, 0.08);
  --shadow-mini: 0 6px 16px rgba(15, 29, 43, 0.06);
}

/* -----------------------------
   Base
------------------------------ */
html, body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--text) !important;
  background: var(--bg-soft) !important;
}

/* App background */
[data-testid="stAppViewContainer"]{
  color: var(--text) !important;
  background:
    /* Fade to white at the very top so Streamlit's header bar blends in */
    linear-gradient(180deg,
      rgba(255,255,255,1) 0px,
      rgba(255,255,255,1) 56px,
      rgba(255,255,255,0.90) 120px,
      rgba(255,255,255,0.00) 260px
    ),
    radial-gradient(1200px 520px at 18% 0%, rgba(139,92,246,0.10), transparent 58%),
    radial-gradient(1200px 520px at 92% 0%, rgba(37,99,235,0.10), transparent 58%),
    linear-gradient(180deg, var(--bg-soft), var(--bg-soft-2));
}

/* Optional: try to make Streamlit header transparent */
header[data-testid="stHeader"]{
  background: rgba(255,255,255,0.0) !important;
}

/* Wider app for spreadsheet-heavy screens */
.block-container{
  max-width: 1600px !important;     /* or 1800px if you like */
  padding-left: 2.0rem !important;
  padding-right: 2.0rem !important;
}


/* Typography */
h1, h2, h3, h4{
  color: var(--text) !important;
  letter-spacing: -0.25px;
}
p, label, .stMarkdown, .stCaption{
  color: var(--muted) !important;
}

/* Links */
a{ color: var(--text) !important; text-decoration: none; }
a:hover{ color: #1F2E44 !important; text-decoration: underline; }

/* -----------------------------
   Sidebar (clean, reliable nav)
------------------------------ */
section[data-testid="stSidebar"]{
  background:
    linear-gradient(180deg,
      rgba(255,255,255,1) 0px,
      rgba(255,255,255,0.85) 80px,
      rgba(255,255,255,0.70) 220px
    ),
    radial-gradient(800px 320px at 30% 0%, rgba(139,92,246,0.10), transparent 55%),
    radial-gradient(800px 320px at 80% 20%, rgba(37,99,235,0.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.82), rgba(255,255,255,0.70)) !important;
  border-right: 1px solid var(--border) !important;
  box-shadow: 8px 0 30px rgba(15,29,43,0.04);
}

/* Sidebar inner padding */
section[data-testid="stSidebar"] > div{
  padding-top: 12px !important;
}

/* -----------------------------
   Sidebar Navigation: "pure menu"
   IMPORTANT: we must NOT hide the whole [data-baseweb="radio"] node,
   because it contains the label text. We only hide the small indicator.
------------------------------ */

/* Remove the big "card" around the radio group */
section[data-testid="stSidebar"] [role="radiogroup"]{
  background: transparent !important;
  border: 0 !important;
  border-radius: 0 !important;
  padding: 0 !important;
  box-shadow: none !important;
}

/* --- Sidebar Navigation: equal-width menu rows --- */

/* Each option becomes a clean nav row (FULL WIDTH) */
section[data-testid="stSidebar"] [role="radiogroup"] label{
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;

  width: 100% !important;            /* ✅ same width */
  box-sizing: border-box !important;  /* ✅ padding included */

  border-radius: 12px !important;
  padding: 10px 12px !important;
  margin: 4px 0 !important;

  background: rgba(255,255,255,0.35) !important;
  border: 1px solid rgba(15,29,43,0.08) !important;

  transition: background .12s ease, border-color .12s ease, transform .06s ease;
}

/* Hide only the radio indicator column (keep text) */
section[data-testid="stSidebar"] [role="radiogroup"] label > div:first-child{
  display: none !important;
}

/* Make the text wrapper expand so the row uses full width */
section[data-testid="stSidebar"] [role="radiogroup"] label > div:last-child{
  flex: 1 1 auto !important;  /* ✅ take remaining width */
  min-width: 0 !important;
}

/* Align text consistently and avoid weird internal margins */
section[data-testid="stSidebar"] [role="radiogroup"] label p,
section[data-testid="stSidebar"] [role="radiogroup"] label span{
  margin: 0 !important;
  width: 100% !important;     /* ✅ text spans full row */
  font-weight: 800 !important;
  color: rgba(15,29,43,0.86) !important;
}

/* Hover */
section[data-testid="stSidebar"] [role="radiogroup"] label:hover{
  background: rgba(37,99,235,0.06) !important;
  border-color: rgba(37,99,235,0.18) !important;
}

/* Selected = active menu item */
section[data-testid="stSidebar"] [role="radiogroup"] label:has(input[aria-checked="true"]){
  background: linear-gradient(90deg, rgba(139,92,246,0.14), rgba(37,99,235,0.10)) !important;
  border-color: rgba(37,99,235,0.32) !important;
  box-shadow: 0 10px 22px rgba(37,99,235,0.10) !important;
}


/* Hover */
section[data-testid="stSidebar"] [role="radiogroup"] label:hover{
  background: rgba(37,99,235,0.06) !important;
  border-color: rgba(37,99,235,0.18) !important;
}

/* Selected item (Streamlit sets aria-checked on the hidden input) */
section[data-testid="stSidebar"] [role="radiogroup"] label:has(input[aria-checked="true"]){
  background: linear-gradient(90deg, rgba(139,92,246,0.14), rgba(37,99,235,0.10)) !important;
  border-color: rgba(37,99,235,0.32) !important;
  box-shadow: 0 10px 22px rgba(37,99,235,0.10) !important;
}

/* -----------------------------
   Cards / containers
------------------------------ */
[data-testid="stExpander"]{
  background: var(--card-soft) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius-card) !important;
  box-shadow: var(--shadow-mini) !important;
}
[data-testid="stExpander"] summary{
  font-weight: 800 !important;
  color: var(--text) !important;
}

/* Give standard blocks a little more air */
.stMarkdown, .stCaption{ line-height: 1.45; }

/* -----------------------------
   Tables / DataFrames
------------------------------ */
[data-testid="stTable"] table,
.stDataFrame,
[data-testid="StyledDataFrame"]{
  border: 1px solid var(--border) !important;
  border-radius: 14px !important;
  overflow: hidden !important;
  background: #fff !important;
  box-shadow: var(--shadow-mini) !important;
}

[data-testid="stDataFrameResizable"] thead tr th{
  background: linear-gradient(180deg, rgba(245,247,250,1), rgba(245,247,250,0.70)) !important;
  color: var(--text) !important;
  font-weight: 800 !important;
}
[data-testid="stDataFrameResizable"] tbody tr td{
  border-top: 1px solid rgba(15,29,43,0.06) !important;
}

/* -----------------------------
   Inputs (global but safe)
------------------------------ */
.stTextInput input,
.stNumberInput input,
.stDateInput input,
.stTextArea textarea,
.stSelectbox div[data-baseweb="select"] input,
.stSelectbox > div > div{
  background: rgba(255,255,255,0.92) !important;
  color: var(--text) !important;
  border: 1px solid rgba(15,29,43,0.16) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 1px 0 rgba(15,29,43,0.02);
  transition: box-shadow .15s ease, border-color .15s ease, transform .05s ease;
}

.stTextInput input:focus,
.stNumberInput input:focus,
.stDateInput input:focus,
.stTextArea textarea:focus,
.stSelectbox div[data-baseweb="select"] input:focus{
  border-color: rgba(37,99,235,0.40) !important;
  box-shadow: 0 0 0 4px var(--ring-strong) !important;
  outline: none !important;
}

/* File uploader */
[data-testid="stFileUploaderDropzone"]{
  background: rgba(255,255,255,0.70) !important;
  border: 1px dashed rgba(15,29,43,0.22) !important;
  border-radius: 14px !important;
  box-shadow: var(--shadow-mini);
}

/* -----------------------------
   Buttons (global)
   IMPORTANT: Do NOT touch .btn / .lp-* because login CSS is injected in app.py.
------------------------------ */

/* Primary buttons (navy + readable text/icons) */
div[data-testid="stFormSubmitButton"] > button,
[data-testid^="baseButton-primary"] > button,
button[kind="primary"]{
  background: #0B1F3A !important;
  color: #FFFFFF !important;
  border: 1px solid rgba(11,31,58,0.55) !important;
  border-radius: 14px !important;
  padding: 12px 18px !important;
  font-weight: 900 !important;
  letter-spacing: .15px !important;
  box-shadow: 0 12px 28px rgba(11,31,58,.18) !important;
  transition: transform .08s ease, box-shadow .18s ease, filter .18s ease;
}

/* Force inner label + icons to be white (ONLY for primary buttons) */
div[data-testid="stFormSubmitButton"] > button :is(span,p,div,svg,path),
[data-testid^="baseButton-primary"] > button :is(span,p,div,svg,path),
button[kind="primary"] :is(span,p,div,svg,path){
  color: #FFFFFF !important;
  fill: #FFFFFF !important;
  opacity: 1 !important;
}

div[data-testid="stFormSubmitButton"] > button:hover,
[data-testid^="baseButton-primary"] > button:hover,
button[kind="primary"]:hover{
  filter: brightness(1.05);
  transform: translateY(-1px);
  box-shadow: 0 18px 40px rgba(11,31,58,.22) !important;
}

div[data-testid="stFormSubmitButton"] > button:disabled,
[data-testid^="baseButton-primary"] > button:disabled,
button[kind="primary"]:disabled{
  opacity: .65 !important;
  filter: none !important;
  box-shadow: none !important;
  transform: none !important;
}

/* FIX: button text contrast (global p/span rules override Streamlit buttons) */
button[kind="primary"] *,
div[data-testid="stFormSubmitButton"] > button *,
[data-testid^="baseButton-primary"] > button *{
  color: #FFFFFF !important;
  opacity: 1 !important;
}



/* Secondary / outline */
[data-testid^="baseButton-secondary"] > button,
button[kind="secondary"]{
  background: rgba(255,255,255,0.92) !important;
  color: #0B1320 !important;
  border: 1px solid rgba(15,29,43,0.22) !important;
  border-radius: var(--radius-pill) !important;
  font-weight: 800 !important;
  box-shadow: var(--shadow-mini) !important;
}
[data-testid^="baseButton-secondary"] > button:hover,
button[kind="secondary"]:hover{
  background: rgba(37,99,235,0.06) !important;
  border-color: rgba(37,99,235,0.28) !important;
}

/* Regular st.button */
.stButton > button{
  background: rgba(255,255,255,0.92) !important;
  color: #0B1320 !important;
  border: 1px solid rgba(15,29,43,0.22) !important;
  border-radius: var(--radius) !important;
  padding: .58rem 1.05rem !important;
  font-weight: 800 !important;
  box-shadow: 0 6px 16px rgba(15,29,43,0.06) !important;
}
.stButton > button:hover{
  border-color: rgba(37,99,235,0.30) !important;
  background: rgba(37,99,235,0.06) !important;
}

/* Make button labels always visible */
.stButton > button span,
div[data-testid="stFormSubmitButton"] > button span{
  opacity: 1 !important;
}


/* Download button */
div[data-testid="stDownloadButton"] > button,
div[data-testid="stDownloadButton"] a{
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b)) !important;
  color: #fff !important;
  border: 1px solid rgba(37,99,235,0.35) !important;
  border-radius: 14px !important;
  padding: .65rem 1.15rem !important;
  font-weight: 900 !important;
  text-decoration: none !important;
  box-shadow: 0 12px 28px rgba(37,99,235,.18), 0 10px 26px rgba(139,92,246,.12) !important;
}
div[data-testid="stDownloadButton"] > button:hover,
div[data-testid="stDownloadButton"] a:hover{
  filter: brightness(1.03) saturate(1.05);
}

/* -----------------------------
   Step flow row styling
------------------------------ */
[data-testid="stHorizontalBlock"]:first-of-type{
  display: flex;
  align-items: center;
  gap: 14px;
}
[data-testid="stHorizontalBlock"]:first-of-type > div{ flex: 0 0 auto; }
[data-testid="stHorizontalBlock"]:first-of-type > div:nth-child(4){ margin-left: auto; }

/* Step pills */
[data-testid="stHorizontalBlock"]:first-of-type .stButton > button{
  background: rgba(255,255,255,0.86) !important;
  color: #0B1320 !important;
  border: 1px solid rgba(15,29,43,0.20) !important;
  border-radius: var(--radius-pill) !important;
  padding: 8px 14px !important;
  font-weight: 900 !important;
  box-shadow: var(--shadow-mini) !important;
}
[data-testid="stHorizontalBlock"]:first-of-type .stButton > button:hover{
  background: rgba(37,99,235,0.06) !important;
  border-color: rgba(37,99,235,0.28) !important;
}

/* -----------------------------
   SIMPLE LOGIN PAGE (simple .login-wrap version)
   (Does NOT affect injected Amnis-like login .lp-*)
------------------------------ */
.login-wrap{
  width: min(560px, 92vw);
  margin: 7vh auto 0 auto;
  padding: 34px 30px 28px 30px;
  border-radius: 22px;
  border: 1px solid var(--border);
  background: #fff;
  box-shadow: var(--shadow);
  transition: transform .14s ease, box-shadow .18s ease, border-color .18s ease;
}
.login-wrap:hover{
  transform: translateY(-2px);
  box-shadow: 0 18px 60px rgba(15,29,43,0.14);
  border-color: rgba(15,29,43,0.14);
}
.login-title{
  font-size: 2.0rem;
  font-weight: 900;
  margin: 0 0 .35rem 0;
  letter-spacing: -0.35px;
  color: var(--text);
}
.login-sub{
  opacity: .84;
  margin: 0 0 1.35rem 0;
  line-height: 1.55;
}

/* CTA button used on simple login */
a.cta{
  display: block;
  text-align: center;
  padding: 13px 14px;
  border-radius: 14px;
  font-weight: 900;
  letter-spacing: .2px;
  text-decoration: none !important;
  border: 1px solid rgba(37,99,235,0.30);
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b));
  color: #fff !important;
  box-shadow: 0 12px 28px rgba(37,99,235,.18), 0 10px 26px rgba(139,92,246,.12);
  transition: transform .08s ease, box-shadow .18s ease, filter .18s ease;
}
a.cta:hover{
  transform: translateY(-1px);
  box-shadow: 0 18px 40px rgba(37,99,235,.22), 0 16px 36px rgba(139,92,246,.14);
  filter: brightness(1.03) saturate(1.05);
}

.small-hint{
  opacity: .72;
  margin-top: 1rem;
  font-size: .95rem;
}
.small-hint a{
  color: var(--accent-b) !important;
  font-weight: 800;
}
.small-hint a:hover{ text-decoration: underline; }

/* Mobile tweaks */
@media (max-width: 520px){
  .login-wrap{ padding: 28px 20px; border-radius: 18px; }
  .login-title{ font-size: 1.75rem; }
}

/* =========================================================
   SAFETY: do not override injected login ("lp-*") system
   ========================================================= */
.lp-wrap, .lp-card, .lp-brand, .lp-actions, .lp-links, .lp-note,
.btn, .btn-primary, .btn-secondary{
  /* intentionally left untouched */
}
